@model List<Produc_Supplier>

@{
    Layout = "_Products";
    ViewData["Title"] = "Index";
}
@* <partial name="_Navbar"/>
*@@foreach (var item in Model)
{
    <partial name="_ProductDiv" model="@item" />
}

@section Scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.3/signalr.min.js" integrity="sha512-/rQxup+foY5qwZmEmvBhb0PHxx/Fd+ESH7Xw+pozdSKhygl+ZSQm1X6LWDQrxz+NoRAZwR03X78UinlY1C4RrQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    @*<script src="/lib/microsoft-signalr/signalr.min.js"></script>*@
    <script>

        var hub =
            new signalR.HubConnectionBuilder().withUrl("ProductHub").build();
        hub.start().then(function () {
            console.log("Connection Success");
        });

        hub.on("NewProductAdd", function (productObj) {

            console.log(productObj);
        });
    </script>
}
